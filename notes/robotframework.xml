<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="../css/strict.xsl"?>
<PAGE xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../css/schema.xsd" xml:lang="en">
<TITLE>Robot Framework</TITLE>
<PATH>notes/robotframework.xml</PATH>
<DATE><YEAR>2022</YEAR><MONTH>12</MONTH><DAY>15</DAY></DATE>
<CONTENT>
Install Robot Framework
<CODESAMPLE>install robotframework</CODESAMPLE>
<BLIST>
  <ITEM>Declaring test setup and teardown in the settings
    <CODESAMPLE>*** Settings ***<BR/>
      Test Setup<TAB/>Log To Console<TAB/>test startup<BR/>
      Test Teardown<TAB/>Log To Console<TAB/>test shutdown</CODESAMPLE></ITEM>
  <ITEM>Sleep for 42 seconds
    <CODESAMPLE>Sleep<TAB/>42</CODESAMPLE></ITEM>
  <ITEM>get length of a list
    <CODESAMPLE><TAB/>${root} =<TAB/>Parse XML<TAB/>${CURDIR}${/}surefire_report.xml<BR/>
      <TAB/>@{failure_elements} =<TAB/>Get Elements<TAB/>${root}<TAB/>.//testcase/*[.!='grep']<BR/>
      <TAB/>${f} =<TAB/>Set Variable<TAB/>${EMPTY}<BR/>
      <TAB/><B>FOR</B><TAB/>${failure}<TAB/><B>IN</B><TAB/>@{failure_elements}<BR/>
      <TAB/><TAB/>${f} =<TAB/>Catenate<TAB/>SEPARATOR=\n<TAB/>${f}<TAB/>\ntype: ${failure.tag}\ndetails: ${failure.text}<BR/>
      <TAB/><B>END</B></CODESAMPLE></ITEM>
  <ITEM>loop on a list
    <CODESAMPLE><TAB/>${root} =<TAB/>Parse XML<TAB/>${CURDIR}${/}surefire_report.xml<BR/>
      <TAB/>@{skipped_elements} =<TAB/>Get Elements<TAB/>${root}<TAB/>.//testcase/*[.='grep']<BR/>
      <TAB/>@{all_elements} =<TAB/>Get Elements<TAB/>${root}<TAB/>.//testcase<BR/>
      <TAB/>${skipped_count} =<TAB/><B>Get length</B><TAB/>${skipped_elements}<BR/>
      <TAB/>${total_count} =<TAB/><B>Get length</B><TAB/>${all_elements}<BR/>
      <TAB/>Should Not Be Equal As Integers<TAB/>${skipped_count}<TAB/>${total_count}<TAB/>All tests have been skipped</CODESAMPLE></ITEM>
  </BLIST>
<BLIST><TITLE><B><U>SeleniumLibrary</U></B></TITLE>
  <ITEM>Install SeleniumLibrary
    <CODESAMPLE>pip install robotframework-seleniumlibrary<BR/>
      pip install webdrivermanager<BR/>
      webdrivermanager firefox chrome --linkpath /c/Users/lmazure/bin</CODESAMPLE></ITEM>
  <ITEM>Example of Selenium script
    <CODESAMPLE>*** Settings ***<BR/>
      <TAB/>Documentation<TAB/>An example to discover Robot Framework<BR/>
      <TAB/>...<BR/>
      <TAB/>...<TAB/><TAB/><TAB/>&#160;&#160;Some smoke test of my homepage<BR/>
      Library<TAB/><TAB/>&#160;&#160;SeleniumLibrary<BR/>
      <BR/>
      *** Keywords ***<BR/>
      Click Map Link Node<BR/>
      <TAB/>[Arguments]<TAB/>${linkText}<BR/>
      <TAB/>Click Link<TAB/>xpath://A[text()='${linkText}']/following-sibling::A[1]<BR/>
      <BR/>
      Click Map Text Node<BR/>
      <TAB/>[Arguments]<TAB/>${nodeText}<BR/>
      <TAB/>Click Link<TAB/>xpath://SPAN[contains(text(),'${nodeText}')]/A<BR/>
      <BR/>
      *** Test Cases ***<BR/>
      Redirection<BR/>
      <TAB/>Open Browser<TAB/>https://mazure.fr<BR/>
      <TAB/>Wait Until Location Is<TAB/> https://mazure.fr/perso/main.html<BR/>
      <TAB/>[Teardown]<TAB/>Close Browser<BR/>
      <BR/>
      Access to site map<BR/>
      <TAB/>Open Browser<TAB/>https://mazure.fr/perso/main.html<BR/>
      <TAB/>Click Link<TAB/>id:goToMap<BR/>
      <TAB/>Title Should Be<TAB/>Site map<BR/>
      <TAB/>[Teardown]<TAB/>Close Browser<BR/>
      <BR/>
      Open and close site map nodes<BR/>
      <TAB/>Open Browser<TAB/>https://mazure.fr/content/map.html<BR/>
      <TAB/>Wait Until Page Contains<TAB/>Homepage<BR/>
      <TAB/>Element Should Not Be Visible<TAB/>link:Mathematicians<BR/>
      <TAB/>Click Map Link Node<TAB/>Homepage<BR/>
      <TAB/>Element Should Not Be Visible<TAB/>link:Mathematicians<BR/>
      <TAB/>#Click Link<TAB/>id:toggleDiv1<BR/>
      <TAB/>Click Map Text Node<TAB/>Links / articles<BR/>
      <TAB/>Element Should Not Be Visible<TAB/>link:Mathematicians<BR/>
      <TAB/>Click Map Link Node<TAB/>Encyclopedia<BR/>
      <TAB/>Element Should Not Be Visible<TAB/>link:Mathematicians<BR/>
      <TAB/>Click Map Link Node<TAB/>Mathematics<BR/>
      <TAB/>Element Should Be Visible<TAB/>link:Mathematicians<BR/>
      <TAB/>Click Map Link Node<TAB/>Encyclopedia<BR/>
      <TAB/>Element Should Not Be Visible<TAB/>link:Mathematicians<BR/>
      <TAB/>[Teardown]<TAB/>Close Browser</CODESAMPLE></ITEM>
  <ITEM>Saving the HTML source in a Selenium script
    <CODESAMPLE><TAB/>Library<TAB/><TAB/>&#160;&#160;OperatingSystem<BR/>
      â€¦<BR/>
      <TAB/><TAB/>${source} =<TAB/>Get Source<BR/>
      <TAB/><TAB/>OperatingSystem.Create File<TAB/>${EXECDIR}/map_source.html<TAB/>${source}</CODESAMPLE></ITEM>
  <ITEM>Running a test in an other technology and parsing the Surefire report
    <CODESAMPLE>*** Settings ***<BR/>
    Documentation<TAB/>Running an Intern test from Robot Framework<BR/>
      Library<TAB/>Process<BR/>
      Library<TAB/>XML<BR/>
      <BR/>
      *** Test Cases ***<BR/>
      Run Intern Test<BR/>
      <TAB/>Run Process<TAB/>npm.cmd<TAB/>test<BR/>
      <TAB/>@{elements} =<TAB/>Get Elements<TAB/>truc.xml<TAB/>.//failure<BR/>
      <TAB/>${f} =<TAB/>Set Variable<TAB/>Errors:<BR/>
      <TAB/>FOR<TAB/>${failure}<TAB/>IN<TAB/>@{elements}<BR/>
      <TAB/><TAB/>${f} =<TAB/>Catenate<TAB/>SEPARATOR=\n<TAB/>${f}<TAB/>${failure.text}<BR/>
      <TAB/>END<BR/>
      <TAB/>Should be empty<TAB/>${elements}<TAB/>An error has been found\n${f}</CODESAMPLE>
  </ITEM>
</BLIST>
<BLIST><TITLE><B><U>Browser Library</U></B></TITLE>
  <ITEM>to change the Browser language<BR/>
    <CODEROUTINE>New Context<TAB/>locale=en-US</CODEROUTINE> does not work<BR/>
    <CODEROUTINE>New Browser<TAB/>chromium<TAB/>headless=false<TAB/>args=['--lang=en']</CODEROUTINE> works for Chrome<BR/></ITEM>
</BLIST>
</CONTENT>
<X><T>links</T><A>../links/autotest.html#robotframework</A><L>en</L><F>HTML</F></X>
</PAGE>